<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>COMP 551 — Applied Machine Learning (Lecture 2)</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <link rel="icon" type="image/png" href="../assets/icon.png">

  <!-- Shared styles -->
  <link rel="stylesheet" href="../COMP_551_Notes/css/style.css">

  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        tags: 'ams'
      },
      options: { renderActions: { addMenu: [] } }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="app">
    <header>
      <div class="header-inner">
        <div class="brand"><a href="../puzzles/index.html"><strong>Puzzles</strong></a></div>
        <div class="course-title">Fiddler on the Proof Problems</div>
        <div style="text-align:right">
          <button class="sidebar-toggle" aria-expanded="false" aria-controls="sidebar">Lectures</button>
        </div>
      </div>
    </header>

    <nav id="sidebar" class="sidebar" aria-label="Course navigation">
      <h2>Problems</h2>
      <ul class="nav-list">
        <li class="nav-item"><a href="index.html">Homepage</a></li>
        <li class="nav-item"><a href="Oct10.html"><b>October 10:</b> Let’s Make a Tic-Tac-Deal!</a></li>
        <li class="nav-item"><a href="Sept19.html"><b>September 19:</b> Can Your Team Self-Organize?</a></li>
        <li class="nav-item"><a href="Sept5.html"><b>September 5 :</b> How Low (or High) Can You Go?</a></li>
        <li class="nav-item"><a href="Aug22.html"><b>August 22:</b> How Far Can You Run Before Sundown?</a></li>
        <li class="nav-item"><a href="Aug15.html"><b>August 15:</b> How Much Free Money Can You Win?</a></li>
        <li class="nav-item"><a href="July25.html"><b>July 25:</b> Can You Sprint to the Finish?</a></li>
      </ul>
    </nav>
    
    <main>
      <!-- Minimal skeleton for Lecture 2 content; ready to fill later -->
      <section id="lecture-2" class="section">
        <h1><a href="https://thefiddler.substack.com/p/can-you-sprint-to-the-finish" target="_blank" rel="noopener">July 25: Can You Sprint to the Finish?</a></h1>
        <div class="spacer"></div>
        <div class="card">
         <h2>Puzzle</h2>

            <p>Every summer I try to run a cycling-related puzzle to coincide with the Tour de France. This time around, you and a competitor are approaching the finish of a grueling stage of the Tour de Fiddler. One of you will win the stage, the other will come in second. As you approach the finish, each of you will test the feeling of your legs, which will be somewhere between $0$ percent ("I can barely go on!") and $100$ percent ("I can do this all day!"). For the purposes of this puzzle, these values are chosen randomly, uniformly, and independently.</p>

            <p>Immediately after feeling your legs, you and your opponent each have a decision to make. Do you maintain your current pace, or do you sprint to the finish? Among those who sprint for the finish, whoever’s legs are feeling the best will win the stage. But if no one sprints for the finish, everyone has an equal chance of winning the stage. In the Tour de Fiddler, you must each decide independently whether to sprint for the finish based on your legs—you don’t have time to react to your opponent’s decision.</p>

            <p>Normally, teams at the Tour de Fiddler keep their strategy and tactics close to the vest. But earlier today, your opponent’s manager declared on international television that if (and only if) your opponent’s legs were feeling 50 percent or better, they’d sprint for the finish.</p>

            <p>As you are about to test your legs for the final sprint and see how they feel, what are your chances of winning the stage, assuming an optimal strategy?</p>

          <hr class="card-divider">

            <h2>Solution</h2>

            <p>    Let $X\stackrel{\text{iid}}{\sim}\text{Unif}(0,1)$ and $Y\stackrel{\text{iid}}{\sim}\text{Unif}(0,1)$ be the random variables representing the decimal representation of you and your opponent's leg state, respectively. Let $x$ and $y$ be fixed values chosen from $X$ and $Y$. Then each combination of your decisions for sprinting/no sprinting (and our winning probabilities for each combination) are given below. </p>

            <img src="Pics/Table1.png" alt="Table1" class="centered-image">

            <p>Let's start with the unknown case where we both sprint. We can say:</p>

            $$\mathbb{P}(X>y)=1-\mathbb{P}(X\leq y)=1-y$$

            <p>Where we made use of the cumulative distribution function for a uniform distribution on $[0,1]$. Since we are in the case where both you and your opponent are sprinting, we must condition on the fact that $Y\geq 0.5$. The conditional probability density function of $Y$ is:</p>
            
            $$f_{Y|\text{sprint}}(y)=\frac{f_Y(y)}{\mathbb{P}(Y\geq 0.5)}=\frac{1}{0.5}=2$$

            <p>Where we used the known probability density function for a uniform distribution for $f_Y(y)$. And so averaging on all possible speeds for $y$ (where we assume that our opponent is sprinting) gives us the desired winning probability in this case:</p>

            \begin{align*}
    \mathbb{P}(\text{Win}\;|\;\text{Both sprint}) & =\int_{0.5}^1 \mathbb{P}(X>y)\times f_{Y|\text{sprint}}(y)dy
    \\ & =\int_{0.5}^1 (1-y)\times 2dy
    \\ & = 0.25
\end{align*}

                <p>So now let's figure out what our winning chances are. If I choose not to sprint, the probability that I win is:</p>


                $$\mathbb{P}(\text{Win}\;|\;\text{Never sprint})=0.5(0.5)+0.5(0)=0.25$$

                <p>If I choose to sprint, the chances that I win are:</p>


                $$\mathbb{P}(\text{Win}\;|\;\text{Always sprint})=0.5(1)+0.5(0.25)=0.625$$

                <p>Which is true for all possible values of $x$. So it seems like I should always choose to sprint. </p>

                <p>But let's consider another strategy: suppose we only sprint if our leg state is above some threshold value, call it $s\in[0,1]$, i.e we sprint if and only if $x\geq s$. Then we consider two cases:</p>

                <p><b>Case 1:</b> You sprint ($X=x\geq s$). Your opponent can choose not to sprint (with probability $0.5$) in which case you win. If your opponent does sprint, then $Y\geq 0.5$, and so we must find:</p>


                $$\mathbb{P}(Y< x\;|\;Y\geq 0.5)=\frac{\mathbb{P}(0.5\leq Y< x)}{\mathbb{P}(Y\geq 0.5)}=\frac{\mathbb{P}(Y\leq x)-\mathbb{P}(Y\leq 0.5)}{\mathbb{P}(Y\geq 0.5)}=\frac{x-0.5}{0.5}=2x-1$$

                <p>In which case, our winning probability is:</p>

                $$\mathbb{P}(\text{Win}\;|\;X=x\;\cap\;\text{We sprint})=0.5(1)+0.5(2x-1)=x$$

                <p><b>Case 2:</b>You do not sprint ($X=x< s$). For this, if we want to win, we must hope our opponent does not sprint. If so, either of us will be equally likely to win. And so:</p>


                $$\mathbb{P}(\text{Win}\;|\;X=x\;\cap\;\text{No sprint})=\mathbb{P}(Y< 0.5)\times 0.5=0.25$$

                <p>Now we must integrate over $x$, and we consider two regimes depending on whether our optimal value for $s$ is above or below $0.5$:</p>

                <p><b>Regime 1:</b> $0\leq s\leq 0.5$. Summarizing what we found above is shown in the table below. For the second row, since $x<0.5$, and our opponent only sprints if $y>0.5$, we would lose if he chose to sprint. If he chooses not to sprint (with probability $0.5$), we would win; hence our chance of winning is $0.5$ in that case.</p>
                
                <img src="Pics/Table2.png" alt="Table2" class="centered-image">

                <p>And so we have:</p>

                \begin{align*}
    \mathbb{P}(\text{Win}) & = \int_0^s 0.25dx+\int_s^{0.5}0.5dx+\int_{0.5}^1 xdx= \frac 58-\frac s4
\end{align*}

                <p><b>Regime 2:</b> $0.5\leq s\leq 1$. Summarizing the results above, we get:</p>

                <img src="Pics/Table3.png" alt="Table3" class="centered-image">

                $$\mathbb{P}(\text{Win})=\int_0^s 0.25dx+\int_s^1xdx=\frac s4+\frac 12-\frac{s^2}{2}$$


                <p>So in total:</p>

                $$\mathbb{P}(\text{Win})=\begin{cases}
    \frac 58-\frac s4 & 0\leq s\leq 0.5
    \\ \frac s4+\frac 12-\frac{s^2}{2} & 0.5\leq s\leq 1
\end{cases}$$

                <p>This piecewise function plotted is shown below:</p>


                <img src="Pics/Graph1.png" alt="Graph1" class="centered-image">


                <p>Notice the our highest chance of winning occurs when $s=0$, and the probability coincides with our previous value of $0.625$. Therefore, we can safely determine that our optimal strategy should be to <b>always</b> sprint no matter how our legs are feeling. Adopting this strategy, our chances of winning is $\boxed{0.625}$.</p>
            


        </div>
      </section>
    </main>
  </div>

  <script>
    // Sidebar mobile toggle
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.querySelector('.sidebar-toggle');
    function toggleSidebar() {
      const isOpen = sidebar.style.display === 'block';
      sidebar.style.display = isOpen ? 'none' : 'block';
      toggleBtn.setAttribute('aria-expanded', String(!isOpen));
    }
    if (toggleBtn) toggleBtn.addEventListener('click', toggleSidebar);

    // Active link handling:
    // 1) Highlight the link that points to the current page (by pathname)
    // 2) When scrolling within this page, update the active link to the visible section
    const links = Array.from(document.querySelectorAll('.nav-item a'));

    // Highlight by current page
    links.forEach(a => {
      const url = new URL(a.getAttribute('href'), location.href);
      if (url.pathname === location.pathname) a.classList.add('active');
    });

    // If there are in-page sections, also track by intersection
    const sectionAnchors = links
      .map(a => {
        const url = new URL(a.getAttribute('href'), location.href);
        return url.pathname === location.pathname && url.hash
          ? document.querySelector(url.hash)
          : null;
      })
      .filter(Boolean);

    if (sectionAnchors.length) {
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          const id = '#' + entry.target.id;
          links.forEach(l => {
            const url = new URL(l.getAttribute('href'), location.href);
            if (url.pathname === location.pathname && url.hash === id) {
              l.classList.toggle('active', entry.isIntersecting);
            }
          });
        });
      }, { rootMargin: '-40% 0px -45% 0px', threshold: [0, 1] });

      sectionAnchors.forEach(sec => observer.observe(sec));
    }
  </script>
</body>
</html>